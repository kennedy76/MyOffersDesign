{\rtf1\ansi\ansicpg1252\deff0\deflang16393{\fonttbl{\f0\fnil Courier New;}{\f1\fnil\fcharset0 Calibri;}}
{\colortbl ;\red0\green0\blue128;\red0\green0\blue0;\red128\green128\blue0;\red102\green14\blue122;\red0\green0\blue255;\red0\green128\blue0;\red255\green255\blue255;}
{\*\generator Msftedit 5.41.21.2510;}\viewkind4\uc1\pard\box\brdrdash\brdrw0 \cbpat7\sa200\sl276\slmult1\cf1\lang9\b\f0\fs18 package \cf2\b0 com.example.happy.gmailsignin;\line\line\cf1\b import \cf2\b0 android.content.Intent;\line\cf1\b import \cf2\b0 android.support.annotation.\cf3 NonNull\cf2 ;\line\cf1\b import \cf2\b0 android.support.v7.app.AppCompatActivity;\line\cf1\b import \cf2\b0 android.os.Bundle;\line\cf1\b import \cf2\b0 android.util.Log;\line\cf1\b import \cf2\b0 android.view.View;\line\cf1\b import \cf2\b0 android.widget.Button;\line\cf1\b import \cf2\b0 android.widget.ImageView;\line\cf1\b import \cf2\b0 android.widget.LinearLayout;\line\cf1\b import \cf2\b0 android.widget.TextView;\line\line\cf1\b import \cf2\b0 com.bumptech.glide.Glide;\line\cf1\b import \cf2\b0 com.google.android.gms.auth.api.Auth;\line\cf1\b import \cf2\b0 com.google.android.gms.auth.api.signin.GoogleSignInAccount;\line\cf1\b import \cf2\b0 com.google.android.gms.auth.api.signin.GoogleSignInApi;\line\cf1\b import \cf2\b0 com.google.android.gms.auth.api.signin.GoogleSignInOptions;\line\cf1\b import \cf2\b0 com.google.android.gms.auth.api.signin.GoogleSignInResult;\line\cf1\b import \cf2\b0 com.google.android.gms.auth.api.signin.SignInAccount;\line\cf1\b import \cf2\b0 com.google.android.gms.common.ConnectionResult;\line\cf1\b import \cf2\b0 com.google.android.gms.common.SignInButton;\line\cf1\b import \cf2\b0 com.google.android.gms.common.api.GoogleApiClient;\line\cf1\b import \cf2\b0 com.google.android.gms.common.api.ResolvingResultCallbacks;\line\cf1\b import \cf2\b0 com.google.android.gms.common.api.ResultCallback;\line\cf1\b import \cf2\b0 com.google.android.gms.common.api.ResultCallbacks;\line\cf1\b import \cf2\b0 com.google.android.gms.common.api.Status;\line\line\cf1\b public class \cf2\b0 MainActivity \cf1\b extends \cf2\b0 AppCompatActivity \cf1\b implements \cf2\b0 View.OnClickListener, GoogleApiClient.OnConnectionFailedListener\{\line\line     \cf1\b private \cf2\b0 LinearLayout \cf4\b linearLayout\cf2\b0 ;\line     \cf1\b private \cf2\b0 Button \cf4\b logOut\cf2\b0 ;\line     \cf1\b private \cf2\b0 SignInButton \cf4\b logIn\cf2\b0 ;\line     \cf1\b private \cf2\b0 TextView \cf4\b name\cf2\b0 ,\cf4\b email\cf2\b0 ;\line     \cf1\b private \cf2\b0 GoogleApiClient \cf4\b googleApiClient\cf2\b0 ;\line     \cf1\b private static final int \cf4\i REQ_CODE \cf2\b0\i0 = \cf5 9001\cf2 ;\line     \cf1\b private \cf2\b0 ImageView \cf4\b blackPanther\cf2\b0 ;\line\line     \cf3 @Override\line     \cf1\b protected void \cf2\b0 onCreate(Bundle savedInstanceState) \{\line         \cf1\b super\cf2\b0 .onCreate(savedInstanceState);\line         setContentView(R.layout.\cf4\b\i activity_main\cf2\b0\i0 );\line\line         \cf4\b linearLayout \cf2\b0 = (LinearLayout) findViewById(R.id.\cf4\b\i linearLayout\cf2\b0\i0 );\line         \cf4\b logOut \cf2\b0 = (Button) findViewById(R.id.\cf4\b\i logOut\cf2\b0\i0 );\line         \cf4\b logIn \cf2\b0 = (SignInButton) findViewById(R.id.\cf4\b\i logIn\cf2\b0\i0 );\line         \cf4\b name \cf2\b0 = (TextView) findViewById(R.id.\cf4\b\i name\cf2\b0\i0 );\line         \cf4\b email \cf2\b0 = (TextView) findViewById(R.id.\cf4\b\i mailID\cf2\b0\i0 );\line         \cf4\b blackPanther \cf2\b0 = (ImageView) findViewById(R.id.\cf4\b\i blackPanther\cf2\b0\i0 );\line         \cf4\b linearLayout\cf2\b0 .setVisibility(View.\cf4\b\i GONE\cf2\b0\i0 );\line         GoogleSignInOptions signInOptions = \cf1\b new \cf2\b0 GoogleSignInOptions.Builder(GoogleSignInOptions.\cf4\b\i DEFAULT_SIGN_IN\cf2\b0\i0 ).requestEmail().build();\line         \cf4\b googleApiClient \cf2\b0 = \cf1\b new \cf2\b0 GoogleApiClient.Builder(\cf1\b this\cf2\b0 ).enableAutoManage(\cf1\b this\cf2\b0 ,\cf1\b this\cf2\b0 ).addApi(Auth.\cf4\b\i GOOGLE_SIGN_IN_API\cf2\b0\i0 ,signInOptions).build();\line         \cf4\b logIn\cf2\b0 .setOnClickListener(\cf1\b this\cf2\b0 );\line         \cf4\b logOut\cf2\b0 .setOnClickListener(\cf1\b this\cf2\b0 );\line     \}\line\line     \cf3 @Override\line     \cf1\b public void \cf2\b0 onClick(View v) \{\line         \cf1\b switch  \cf2\b0 (v.getId())\line         \{\line             \cf1\b case \cf2\b0 R.id.\cf4\b\i logIn\cf2\b0\i0 :\line                 logIn();\line                 \cf1\b break\cf2\b0 ;\line             \cf1\b case \cf2\b0 R.id.\cf4\b\i logOut\cf2\b0\i0 :\line                 logOut();\line                 \cf1\b break\cf2\b0 ;\line\line         \}\line\line     \}\line\line     \cf3 @Override\line     \cf1\b public void \cf2\b0 onConnectionFailed(\cf3 @NonNull \cf2 ConnectionResult connectionResult) \{\line\line     \}\line\line     \cf1\b private void \cf2\b0 logIn()\line     \{\line         Intent intent  = Auth.\cf4\b\i GoogleSignInApi\cf2\b0\i0 .getSignInIntent(\cf4\b googleApiClient\cf2\b0 );\line         startActivityForResult(intent,\cf4\b\i REQ_CODE\cf2\b0\i0 );\line     \}\line\line        \cf1\b private void \cf2\b0 logOut()\line     \{\line Auth.\cf4\b\i GoogleSignInApi\cf2\b0\i0 .signOut(\cf4\b googleApiClient\cf2\b0 ).setResultCallback(\cf1\b new \cf2\b0 ResultCallback<Status>() \{\line     \cf3 @Override\line     \cf1\b public void \cf2\b0 onResult(\cf3 @NonNull \cf2 Status status) \{\line         updateUI(\cf1\b false\cf2\b0 );\line     \}\line\});\line     \}\line     \cf1\b private void \cf2\b0 Result(GoogleSignInResult result)\line     \{\line         \cf1\b if\cf2\b0 (result.isSuccess())\line         \{\line\line             GoogleSignInAccount account  =result.getSignInAccount();\line             String Name = account.getDisplayName();\line             String Email = account.getEmail();\line             String BlaclPanther = account.getPhotoUrl().toString();\line             \cf4\b name\cf2\b0 .setText(Name);\line             \cf4\b email\cf2\b0 .setText(Email);\line             Glide.\i with\i0 (\cf1\b this\cf2\b0 ).load(BlaclPanther).into(\cf4\b blackPanther\cf2\b0 );\line             updateUI(\cf1\b true\cf2\b0 );\line         \}\line         \cf1\b else\line         \cf2\b0\{\line             updateUI(\cf1\b false\cf2\b0 );\line         \}\line     \}\line\line     \cf1\b private  void \cf2\b0 updateUI(\cf1\b boolean \cf2\b0 isLogin)\line     \{\line         \cf1\b if\cf2\b0 (isLogin)\line         \{\line             \cf4\b linearLayout\cf2\b0 .setVisibility(View.\cf4\b\i VISIBLE\cf2\b0\i0 );\line             \cf4\b logIn\cf2\b0 .setVisibility(View.\cf4\b\i GONE\cf2\b0\i0 );\line         \}\line         \cf1\b else \cf2\b0\{\line             \cf4\b linearLayout\cf2\b0 .setVisibility(View.\cf4\b\i GONE\cf2\b0\i0 );\line             \cf4\b logIn\cf2\b0 .setVisibility(View.\cf4\b\i VISIBLE\cf2\b0\i0 );\line         \}\line     \}\line\line     \cf3 @Override\line     \cf1\b protected void \cf2\b0 onActivityResult(\cf1\b int \cf2\b0 requestCode, \cf1\b int \cf2\b0 resultCode, Intent data) \{\line         \cf1\b super\cf2\b0 .onActivityResult(requestCode, resultCode, data);\line\line         \cf1\b if\cf2\b0 (requestCode == \cf4\b\i REQ_CODE\cf2\b0\i0 )\line         \{\line             GoogleSignInResult result = Auth.\cf4\b\i GoogleSignInApi\cf2\b0\i0 .getSignInResultFromIntent(data);\line             Result(result);\line         \}\line     \}\line\}\line\par
\line\par
\pard\sa200\sl276\slmult1\cf0\f1\fs22\par
\par
\par
\par
\par
\par
\par
\par
XML FILE:\par
\pard\box\brdrdash\brdrw0 \cbpat7\sa200\sl276\slmult1\cf2\i\f0\fs18 <?\cf5\b\i0 xml version=\cf6 "1.0" \cf5 encoding=\cf6 "utf-8"\cf2\b0\i ?>\line\i0 <\cf1\b LinearLayout \cf5 xmlns:\cf4 android\cf5 =\cf6 "http://schemas.android.com/apk/res/android"\line     \cf5 xmlns:\cf4 app\cf5 =\cf6 "http://schemas.android.com/apk/res-auto"\line     \cf5 xmlns:\cf4 tools\cf5 =\cf6 "http://schemas.android.com/tools"\line     \cf4 android\cf5 :layout_width=\cf6 "match_parent"\line     \cf4 android\cf5 :layout_height=\cf6 "match_parent"\line     \cf4 android\cf5 :orientation=\cf6 "vertical"\line     \cf4 tools\cf5 :context=\cf6 "com.example.happy.gmailsignin.MainActivity"\cf2\b0 >\line\line    <\cf1\b LinearLayout\line        \cf4 android\cf5 :layout_width=\cf6 "match_parent"\line        \cf4 android\cf5 :layout_height=\cf6 "wrap_content"\line        \cf4 android\cf5 :orientation=\cf6 "horizontal"\line        \cf4 android\cf5 :id=\cf6 "@+id/linearLayout"\line        \cf4 android\cf5 :layout_marginLeft=\cf6 "20dp"\line        \cf4 android\cf5 :layout_marginTop=\cf6 "50dp"\cf2\b0 >\line\line        <\cf1\b ImageView\line            \cf4 android\cf5 :id=\cf6 "@+id/blackPanther"\line            \cf4 android\cf5 :layout_width=\cf6 "120dp"\line            \cf4 android\cf5 :layout_height=\cf6 "150dp"\line            \cf4 android\cf5 :src=\cf6 "@drawable/black_panther"\cf2\b0 />\line        <\cf1\b LinearLayout\line            \cf4 android\cf5 :layout_width=\cf6 "match_parent"\line            \cf4 android\cf5 :layout_height=\cf6 "wrap_content"\line            \cf4 android\cf5 :orientation=\cf6 "vertical"\cf2\b0 >\line\line\line        <\cf1\b TextView\line            \cf4 android\cf5 :id=\cf6 "@+id/name"\line            \cf4 android\cf5 :layout_width=\cf6 "match_parent"\line            \cf4 android\cf5 :layout_height=\cf6 "wrap_content"\line            \cf4 android\cf5 :text=\cf6 "Display name here "\line            \cf4 android\cf5 :textStyle=\cf6 "bold"\line            \cf4 android\cf5 :textSize=\cf6 "25dp"\cf2\b0 />\line\line        <\cf1\b TextView\line            \cf4 android\cf5 :id=\cf6 "@+id/mailID"\line            \cf4 android\cf5 :layout_width=\cf6 "match_parent"\line            \cf4 android\cf5 :layout_height=\cf6 "wrap_content"\line            \cf4 android\cf5 :text=\cf6 "Mail id"\line            \cf4 android\cf5 :textSize=\cf6 "20dp"\line            \cf4 android\cf5 :layout_marginTop=\cf6 "20dp"\cf2\b0 />\line\line            <\cf1\b Button\line                \cf4 android\cf5 :id=\cf6 "@+id/logOut"\line                \cf4 android\cf5 :layout_width=\cf6 "wrap_content"\line                \cf4 android\cf5 :layout_height=\cf6 "wrap_content"\line                \cf4 android\cf5 :text=\cf6 "signout"\cf2\b0 />\line        </\cf1\b LinearLayout\cf2\b0 >\line    </\cf1\b LinearLayout\cf2\b0 >\line\line     <\cf1\b com.google.android.gms.common.SignInButton\line         \cf4 android\cf5 :id=\cf6 "@+id/logIn"\line         \cf4 android\cf5 :layout_width=\cf6 "match_parent"\line         \cf4 android\cf5 :layout_height=\cf6 "wrap_content"\line         \cf4 android\cf5 :layout_marginTop=\cf6 "60dp"\line         \cf4 android\cf5 :layout_marginRight=\cf6 "50dp"\line         \cf4 android\cf5 :layout_marginLeft=\cf6 "50dp"\cf2\b0 >\line\line     </\cf1\b com.google.android.gms.common.SignInButton\cf2\b0 >\line </\cf1\b LinearLayout\cf2\b0 >\line\par
\pard\sa200\sl276\slmult1\cf0\f1\fs22\par
}
 